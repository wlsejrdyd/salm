<!-- salm/src/main/resources/templates/fragments/header.html -->
<head>
  <meta charset="UTF-8">
  <title th:text="${pageTitle} ?: 'SALM'">SALM</title>
  <link rel="stylesheet" href="/css/style.css">

  <!-- ✅ favicon: 여러 브라우저 대응 위해 ico + png 둘 다 명시 -->
  <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="/img/favicon.png">
  <link rel="apple-touch-icon" href="/img/favicon.png">
</head>
<div th:fragment="common-header">
  <header style="background-color: #fff; border-bottom: 1px solid #eee; box-shadow: 0 2px 4px rgba(0,0,0,0.03);">
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 32px; display: flex; justify-content: space-between; align-items: center; height: 90px;">
      <a href="/" style="display: flex; align-items: center; gap: 12px; text-decoration: none;">
        <img src="/img/salm-logo.png" alt="SALM 로고" style="height: 72px;">
        <span style="font-size: 1.5rem; font-weight: bold; color: #333;">SALM</span>
      </a>
      <nav>
        <ul style="list-style: none; display: flex; gap: 32px; margin: 0; padding: 0; align-items: center;">
          <li><a href="/write" style="text-decoration: none; color: #444; font-size: 1rem;">글쓰기</a></li>

          <!-- 로그인 상태 -->
          <li th:if="${#authorization.expression('isAuthenticated()')}">
            <div class="dropdown">
              <img src="/img/default-profile.png" alt="프로필" class="profile-icon">
              <div class="dropdown-content">
                <a href="/mypage">마이페이지</a>
                <form th:action="@{/logout}" method="post">
                  <button type="submit" class="logout-btn">로그아웃</button>
                </form>
              </div>
            </div>
          </li>

          <!-- 비로그인 상태 -->
          <li th:if="${#authorization.expression('!isAuthenticated()')}">
            <a href="/login" style="text-decoration: none; color: #444; font-size: 1rem;">로그인</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
</div>
